/dts-v1/;
/plugin/;

#include <dt-bindings/clock/sun50i-h616-ccu.h>
#include <dt-bindings/clock/sun50i-h6-r-ccu.h>
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/clock/sun6i-rtc.h>
#include <dt-bindings/reset/sun50i-h616-ccu.h>
#include <dt-bindings/reset/sun50i-h6-r-ccu.h>

/ {
	compatible = "sinovoip,bpi-m4-zero", "allwinner,sun50i-h618";

	fragment@0 {
		target-path = "/";
		__overlay__ {
			model = "BananaPi BPI-M4-Zero v2";
		};
	};

	/* SDIO WIFI */
	fragment@1 {
		target = <&mmc1>;
		__overlay__ {
			status = "okay";
		};
	};

	/* BLUETOOTH */
	fragment@2 {
		target = <&uart1>;
		__overlay__ {
			bluetooth {
				compatible = "brcm,bcm43438-bt";
				clocks = <&rtc CLK_OSC32K_FANOUT>;
				clock-names = "lpo";
				device-wakeup-gpios = <&pio 6 17 GPIO_ACTIVE_HIGH>;
				host-wakeup-gpios = <&pio 6 16 GPIO_ACTIVE_HIGH>;
				shutdown-gpios = <&pio 6 19 GPIO_ACTIVE_HIGH>;
				max-speed = <1500000>;
				vbat-supply = <&reg_vcc3v3>;
				vddio-supply = <&reg_vcc1v8>;
			};
		};
	};
};
